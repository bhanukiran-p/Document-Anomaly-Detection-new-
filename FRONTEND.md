# Frontend Documentation

Complete documentation for the XFORIA DAD fraud detection frontend application.

## Overview

React-based single-page application for document analysis and real-time fraud detection.

## Tech Stack

- **React** 18.x - UI framework
- **React Router** - Navigation
- **Recharts** - Data visualizations
- **React Icons** - Icon library
- **Axios** - HTTP client

## Project Structure

```
Frontend/
├── public/
│   └── index.html
├── src/
│   ├── pages/
│   │   ├── Dashboard.jsx          # Main dashboard
│   │   ├── CheckAnalysis.jsx      # Check document analysis
│   │   ├── PaystubAnalysis.jsx    # Paystub analysis
│   │   ├── BankStatementAnalysis.jsx  # Bank statement analysis
│   │   ├── MoneyOrderAnalysis.jsx # Money order analysis
│   │   ├── RealTimeAnalysis.jsx   # Real-time CSV analysis
│   │   ├── Login.jsx              # Login page
│   │   └── Signup.jsx             # Signup page
│   ├── services/
│   │   └── api.js                 # API service layer
│   ├── styles/
│   │   └── colors.js              # Color theme
│   ├── App.js                     # Main app component
│   └── index.js                   # Entry point
├── package.json
└── .env                           # Environment configuration
```

## Setup

### 1. Install Dependencies

```bash
cd Frontend
npm install
```

### 2. Configure Environment

Create `Frontend/.env`:

```env
REACT_APP_API_URL=http://localhost:5001/api
```

### 3. Start Development Server

```bash
npm start
```

App runs on `http://localhost:3000`

## Pages

### Dashboard (`/`)
- Overview of all analysis features
- Quick access to all modules
- System status indicators

### Check Analysis (`/check-analysis`)
- Upload check images
- Extract check details
- Fraud validation
- Result download

### Paystub Analysis (`/paystub-analysis`)
- Upload paystub documents
- Extract income data
- Verify employment details
- Fraud detection

### Bank Statement Analysis (`/bank-statement-analysis`)
- Upload bank statements
- Extract transactions
- Account verification
- Pattern analysis

### Money Order Analysis (`/money-order-analysis`)
- Upload money order images
- Extract money order details
- Authenticity verification
- Fraud indicators

### Real-Time Analysis (`/real-time-analysis`)
- Upload CSV transaction files
- ML-based fraud detection
- GPT-4 AI insights
- Interactive visualizations
- Statistical analysis

### Login (`/login`)
- User authentication
- Email/password login
- Remember me option
- Signup redirect

### Signup (`/signup`)
- New user registration
- Email verification
- Password validation
- Auto-login after signup

## Features

### Theme System

Dark mode color scheme defined in `src/styles/colors.js`:

```javascript
export const colors = {
  background: '#05070f',
  foreground: '#e2e8f0',
  muted: '#0f1729',
  mutedForeground: '#94a3b8',
  border: '#1e293b',
  primary: '#3b82f6',
  // ... more colors
}
```

### API Integration

All API calls handled through `src/services/api.js`:

```javascript
import axios from 'axios';

const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5001/api';

// Example: Analyze real-time transactions
export const analyzeRealTimeTransactions = async (file) => {
  const formData = new FormData();
  formData.append('file', file);

  const response = await axios.post(`${API_URL}/real-time/analyze`, formData, {
    headers: { 'Content-Type': 'multipart/form-data' }
  });

  return response.data;
};
```

### File Upload

Drag & drop file upload component with:
- Multiple file format support
- File size validation
- Preview before upload
- Progress indicators

### Data Visualization

Using Recharts for interactive charts:
- Bar charts for distribution analysis
- Line charts for time series
- Pie charts for category breakdown
- Scatter plots for correlation

## Real-Time Analysis Page

### Upload Section
- Drag & drop CSV upload
- File format validation
- Size limit: 10MB
- Supported: .csv files

### Results Display

#### Summary Cards
- Total transactions
- Fraud count and percentage
- Total amounts
- Fraud amounts

#### Fraud Detection Table
- Sortable columns
- Pagination
- Fraud probability indicators
- Color-coded risk levels

#### AI Analysis Section

Minimal, clean display of:

1. **Top Suspicious Transactions** (3 max)
   - Merchant name
   - Transaction amount
   - Fraud probability
   - Category

2. **Key Insights**
   - GPT-4 generated analysis
   - Scrollable text box
   - Max height: 200px

3. **Recommendations** (5 max)
   - Actionable items
   - Prioritized by urgency
   - Generated by GPT-4

#### Visual Analytics
- Transaction amount distribution
- Fraud vs legitimate comparison
- Time-based patterns
- Category analysis
- Interactive zoom

### Icons Used

From `react-icons/fa`:
- `FaLink` - URL/link icon
- `FaUpload` - Upload icon
- `FaArrowLeft` - Back navigation
- `FaChartBar` - Analytics icon
- `FaRobot` - AI analysis icon

## Styling

### Inline Styles
Most components use inline styles for:
- Consistent theme colors
- Responsive design
- Dynamic hover effects
- Smooth transitions

### Hover Effects
```javascript
onMouseEnter={() => setIsHovered(true)}
onMouseLeave={() => setIsHovered(false)}
style={{
  transform: isHovered ? 'scale(1.02)' : 'scale(1)',
  transition: 'all 0.2s ease'
}}
```

### Responsive Design
- Mobile-first approach
- Breakpoints at 768px, 1024px
- Flexible grid layouts
- Touch-friendly buttons

## State Management

### Local State (useState)
```javascript
const [file, setFile] = useState(null);
const [analysisResult, setAnalysisResult] = useState(null);
const [loading, setLoading] = useState(false);
const [error, setError] = useState(null);
```

### Loading States
- Spinner during API calls
- Disabled buttons when loading
- Progress indicators
- Error boundaries

## Error Handling

### API Errors
```javascript
try {
  const result = await analyzeRealTimeTransactions(file);
  setAnalysisResult(result);
} catch (error) {
  setError(error.response?.data?.message || 'Analysis failed');
}
```

### User-Friendly Messages
- Clear error descriptions
- Retry options
- Helpful suggestions
- Contact support links

## Navigation

### React Router Setup
```javascript
<Routes>
  <Route path="/" element={<Dashboard />} />
  <Route path="/login" element={<Login />} />
  <Route path="/signup" element={<Signup />} />
  <Route path="/check-analysis" element={<CheckAnalysis />} />
  <Route path="/paystub-analysis" element={<PaystubAnalysis />} />
  <Route path="/bank-statement-analysis" element={<BankStatementAnalysis />} />
  <Route path="/money-order-analysis" element={<MoneyOrderAnalysis />} />
  <Route path="/real-time-analysis" element={<RealTimeAnalysis />} />
</Routes>
```

### Protected Routes
- Authentication check
- Redirect to login if not authenticated
- Persist session

## Build & Deploy

### Development Build
```bash
npm start
```

### Production Build
```bash
npm run build
```

Creates optimized build in `build/` directory.

### Environment Variables
- `REACT_APP_API_URL` - Backend API URL
- Add more with `REACT_APP_` prefix

### Deployment Checklist
1. Set production API URL in `.env.production`
2. Run `npm run build`
3. Test build locally: `serve -s build`
4. Deploy `build/` folder to hosting
5. Configure CORS on backend
6. Set up HTTPS

## Testing

### Run Tests
```bash
npm test
```

### Test Coverage
```bash
npm test -- --coverage
```

## Performance Optimization

### Code Splitting
```javascript
const RealTimeAnalysis = lazy(() => import('./pages/RealTimeAnalysis'));
```

### Memoization
```javascript
const expensiveCalculation = useMemo(() => {
  return computeValue(data);
}, [data]);
```

### Image Optimization
- Compress images
- Use WebP format
- Lazy load images
- Optimize plot sizes

## Browser Support

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## Troubleshooting

### Issue: "Network Error"
**Solution**: Check backend server is running on port 5001

### Issue: "CORS Error"
**Solution**: Backend must allow `http://localhost:3000` origin

### Issue: "File upload fails"
**Solution**: Check file size <10MB and format is supported

### Issue: "Blank page after build"
**Solution**: Set `homepage` in `package.json` or use HashRouter

## Development Tips

1. **Hot Reload**: Changes auto-refresh in development
2. **Console Logs**: Check browser console for errors
3. **React DevTools**: Install browser extension for debugging
4. **Network Tab**: Monitor API calls and responses
5. **Lighthouse**: Audit performance and accessibility

## Future Enhancements

- [ ] Multi-file upload
- [ ] Batch processing
- [ ] Export reports (PDF, Excel)
- [ ] Custom themes
- [ ] Offline mode
- [ ] Real-time notifications
- [ ] Advanced filtering
- [ ] Data comparison
